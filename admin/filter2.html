<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" data-template="templates:surround" data-template-with="templates/page2.html" data-template-at="content" data-template-options="noscript=yes">
    <xf:model id="up">
        <xf:instance xmlns="">
            <data>
                <code-table-id/>
                <available-id/>
                <left-list>
                    <item>Item_One</item>
                    <item>Item_Two</item>
                    <item>Item_Three</item>
                    <item>Item_Four</item>
                    <item>Item_Five</item>
                </left-list>
                <right-list>
                    <item>Item_Six</item>
                    <item>Item_Seven</item>
                    <item>Item_Eight</item>
                    <item>Item_Nine</item>
                    <item>Item_Ten</item>
                </right-list>
            </data>
        </xf:instance>
        <xf:submission id="load" resource="../filter-load" method="get" replace="instance">
            <xf:message ev:event="xforms-submit-done" level="ephemeral">Filter loaded.</xf:message>
        </xf:submission>
        <xf:submission id="save" resource="../filter-save" method="put" replace="instance" ref="//left-list">
            <xf:message ev:event="xforms-submit-done" level="ephemeral">Filter saved.</xf:message>
            <xf:message ev:event="xforms-submit-error" level="ephemeral">An error
                occurred.</xf:message>
        </xf:submission>
        <xf:action ev:event="xforms-ready">
            <xf:send submission="load"/>
        </xf:action>
    </xf:model>
    <div class="row-fluid">
        <div class="col-lg-1">&#160;</div>
        <div class="col-lg-9">
            <div class="page-header">
                <h1 data-template="config:app-title">Generated page</h1>
            </div>
            <div class="alert alert-success col-lg-10">
                <p>
                    <a data-template="templates:load-source" href="index.html">This</a> is the entry
                    page into your application and was generated by eXide. It uses HTML templates
                    for a clean separation of HTML views and application logic.</p>
                <p>To add your own template functions, start by editing the XQuery module <a data-template="templates:load-source" href="modules/app.xql">app.xql</a>.</p>
            </div>
            <div class="row-fluid">
                <xf:group model="up">
                    <div class="col-lg-1"/>
                    <div class="well col-lg-4">
                        <h3>Selected</h3>
                        <xf:select1 id="select" ref="//code-table-id" appearance="compact" incremental="true">
                            <xf:hint>a Hint for this control</xf:hint>
                            <xf:help>help for select</xf:help>
                            <xf:alert>invalid</xf:alert>
                            <xf:itemset nodeset="//left-list/item">
                                <xf:label ref="."/>
                                <xf:value ref="."/>
                            </xf:itemset>
                        </xf:select1>
                        <br/> Output: <xf:output ref="//code-table-id"/>
                    </div>
                    <div class="col-lg-1">
                        <xf:trigger class="filter-button">
                            <xf:label>Remove</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="/data/right-list/item" origin="/data/left-list/item[text() eq //code-table-id/text()]" at="last()" position="after"/>
                                <xf:delete nodeset="/data/left-list/item[text() eq //code-table-id/text()]"/>
                            </xf:action>
                        </xf:trigger>
                        <xf:trigger class="filter-button">
                            <xf:label>Add to Filtered</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="/data/left-list/item" origin="/data/right-list/item[text() eq //available-id/text()]" at="last()" position="after"/>
                                <xf:delete nodeset="/data/right-list/item[text() eq //available-id/text()]"/>
                            </xf:action>
                        </xf:trigger>
                        <xf:submit class="filter-button" submission="save">
                            <xf:label>Save</xf:label>
                        </xf:submit>
                    </div>
                    <div class="well col-lg-4">
                        <h3>available</h3>
                        <xf:select1 id="available" ref="//available-id" appearance="compact" incremental="true">
                            <xf:hint>a Hint for this control</xf:hint>
                            <xf:help>help for select</xf:help>
                            <xf:alert>invalid</xf:alert>
                            <xf:itemset nodeset="//right-list/item">
                                <xf:label ref="."/>
                                <xf:value ref="."/>
                            </xf:itemset>
                        </xf:select1>
                        <br/> Output: <xf:output ref="//available-id"/>
                    </div>
                </xf:group>
            </div>
        </div>
    </div>
</div>